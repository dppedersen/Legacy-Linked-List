"use strict";angular.module("app",["ngRoute","ngMaterial","app.input","app.dashboard","app.auth","app.services"]).config(function(a,b,c,d){a.hashPrefix(""),c.theme("default").primaryPalette("teal").accentPalette("blue"),b.when("/",{templateUrl:"./app/landing/landingTemplate.html",controller:"authController"}).when("/input",{templateUrl:"./app/input/inputTemplate.html",controller:"inputController"}).when("/dashboard",{templateUrl:"./app/dashboard/dashboardTemplate.html",controller:"dashboardController"}).when("/logout",{redirectTo:"/"})}).controller("navController",function(a,b,c){a.showSignUp=!1,a.renderNavButtons=function(){var a=b.path();return"/"!==a},a.handleDashboardClick=function(){b.path("dashboard")},a.handleInputClick=function(){b.path("input")},a.handleLogoutClick=function(){b.path("logout")},c(function(){a.showSignUp="/"!==b.url()},500)}).run(function(a,b,c,d){return a.status(b,c,d)}),angular.module("calendarWidget",[]).component("calendarWidget",{templateUrl:"./app/components/calendarWidgetTemplate.html",controller:function(a,b,c,d){a.today=new Date,a.dates=[],a.maxDate=new Date,a.maxDate.setDate(a.today.getDate()+60),a.taskData,b.get("/api/dates").then(function(b){a.taskData=b;var c=b.data.map(function(a){return new Date(a.dueDate)});a.dates=c.map(function(a){return[a.getFullYear(),a.getMonth(),a.getDate()]})}),a.showPrerenderedDialog=function(b){a.date=b.target.parentNode.attributes["aria-label"].value,a.taskDate=new Date(a.date),a.task=a.taskData.data.filter(function(b){return new Date(b.dueDate).getTime()===a.taskDate.getTime()}),d.show({contentElement:"#myDialog",parent:angular.element(document.body),targetEvent:b,clickOutsideToClose:!0})},a.filterDates=function(b){var c=b.getFullYear(),d=b.getMonth(),e=b.getDate();return a.dates.reduce(function(a,b){return c===b[0]&&d===b[1]&&e===b[2]||a},!1)}}}),angular.module("jobWidget",[]),angular.module("jobWidget").component("jobWidget",{template:'\n    <md-card class="job-card">\n      <md-card-header style="display:flex; align-items:center">\n        <md-card-avatar class="job-widget-image" style="{{$ctrl.imageStyle($ctrl.data.imageUrl)}}"></md-card-avatar>\n\n        <md-card-header-text>\n          <span class="md-headline">{{$ctrl.data.company}}</span>\n          <span class="md-subhead">{{$ctrl.data.position}}</span>\n        </md-card-header-text>\n\n        <!--<md-button class="md-fab md-mini" ng-click="$ctrl.toggleFavorite()">\n            <md-tooltip md-direction="top">Set as Favorite</md-tooltip>\n            <md-icon>{{$ctrl.renderFavoriteIcon()}}</md-icon>\n        </md-button>-->\n\n        <md-button class="md-fab md-mini" ng-click="$ctrl.editJob()">\n            <md-tooltip md-direction="top">Edit Job</md-tooltip>\n            <md-icon>edit</md-icon>\n        </md-button>\n\n        <md-button class="md-fab md-mini" ng-click="$ctrl.deleteJob($ctrl.data)">\n            <md-tooltip md-direction="top">Delete Job</md-tooltip>\n            <md-icon>delete</md-icon>\n        </md-button>\n      </md-card-header>\n\n      <md-divider></md-divider>\n      <md-tabs md-dynamic-height="" md-border-bottom="" md-center-tabs="true" md-stretch-tabs="always">\n\n         <!--<md-tab>\n            <md-tab-label><md-icon>expand_less</md-icon></md-tab-label>\n          </md-tab>-->\n\n          <md-tab label="JOB INFO">\n          <md-content>\n              <p class="md-subhead"><strong>Date Applied: </strong>{{$ctrl.parseDate($ctrl.data.dateCreated)}}</p>\n              <p class="md-subhead"><strong>Application Link: </strong>{{$ctrl.data.link}}</p>\n              <p class="md-subhead"><strong>Current Step: </strong>{{$ctrl.data.currentStep.name}}</p>\n              <p class="md-subhead"><strong>Next Step: </strong>{{$ctrl.data.nextStep.name}}</p>\n              <p class="md-subhead"><strong>Salary: </strong>${{$ctrl.data.salary}}</p>\n          </md-content>\n          </md-tab>\n\n          <md-tab label="COMPANY">\n          <md-content>\n            <p class="md-subhead"><strong>Company: </strong>{{$ctrl.data.officialName}}</p>\n            <p class="md-subhead"><strong>Website: </strong><a href=\'http://{{$ctrl.data.website}}\'/>{{$ctrl.data.website}}</a></p>\n            <p class="md-subhead"><strong>Description: </strong>{{$ctrl.data.description}}</p>\n            <p class="md-subhead"><strong>Founded: </strong>{{$ctrl.data.founded}}</p>\n            <p class="md-subhead"><strong># of Employees: </strong>{{$ctrl.data.approxEmployees}}</p>\n            <p class="md-subhead"><strong>Address: </strong>{{$ctrl.data.address}}</p>\n            </md-content>\n          </md-tab>\n\n          <md-tab label="CONTACT">\n          <md-content ng-repeat=\'contact in $ctrl.data.contacts\'>\n            <div layout="column" class="contact-divider" style="padding-left: 0">\n              <p class="md-subhead contact-info"><md-icon>person</md-icon>{{contact.name}}</p>\n              <p class="md-subhead contact-info"><md-icon>phone</md-icon>{{contact.phoneNumber}}</p>\n              <p class="md-subhead contact-info"><md-icon>email</md-icon>{{contact.email}}</p>\n            </div>\n          </md-content>\n          </md-tab>\n\n          <md-tab label="STATUS">\n          <md-content>\n            <div layout="column" class="contact-divider" style="padding-left: 0">\n              <p class="md-subhead" style="margin-top: 0"> <strong>Current Step: </strong> {{$ctrl.data.currentStep.name}}</p>\n              <p class="md-subhead" style="margin-top: 0"> <strong>Due: </strong> {{$ctrl.parseDate($ctrl.data.currentStep.dueDate)}}</p>\n              <p class="md-subhead" style="margin-top: 0; margin-bottom: 0;" ng-if="$ctrl.data.currentStep.comments.length > 0"> <strong>Comments: </strong>\n                <md-content layout-margin ng-repeat=\'comment in $ctrl.data.currentStep.comments\'> {{comment}} </md-content>\n              </p>\n\n              <md-divider style="margin-top: 16px; margin-bottom: 16px;"></md-divider>\n\n              <p class="md-subhead"> <strong>Next Step: </strong> {{$ctrl.data.nextStep.name}}</p>\n              <p class="md-subhead" style="margin-top: 0"> <strong>Due: </strong> {{$ctrl.parseDate($ctrl.data.nextStep.dueDate)}}</p>\n              <p class="md-subhead" style="margin-top: 0; margin-bottom: 0;" ng-if="$ctrl.data.currentStep.comments.length > 0"> <strong>Comments: </strong>\n                <md-content layout-margin ng-repeat=\'comment in $ctrl.data.nextStep.comments\'> {{comment}} </md-content>\n              </p>\n            </div>\n\n          </md-content>\n        </md-tab>\n\n        </md-tabs>\n\n    </md-card>\n    ',bindings:{data:"="},controller:function(a,b,c,d,e){this.favorite=!1,e.get().then(function(a){b.jobs=a}),this.toggleFavorite=function(){this.favorite=!this.favorite},this.renderFavoriteIcon=function(){return this.favorite?"star":"star_border"},this.imageStyle=function(a){return"background-image:url('"+a+"');width:120px;background-repeat: no-repeat;background-size:cover;margin-right:10px"},this.parseDate=function(a){var b=new Date(a),c=moment(b).format("MMM Do YY"),d=moment(b).fromNow();return d+" on "+c},this.deleteJob=function(b){var d=JSON.stringify({_id:b._id});a.confirm("Are you sure you want to delete this job?")&&e["delete"](d).then(function(b){c.reload(),a.alert(b)})["catch"](function(a){console.log(a)})},this.editJob=function(c){var e=angular.element(document.body);d.show({parent:e,targetEvent:c,locals:{jobs:b.jobs},clickOutsideToClose:!0,scope:b,preserveScope:!0,template:'\n          <md-dialog>\n            <md-content layout-padding>\n              <div layout="row">\n                <span flex="80" class="md-display-1">Edit Application</span>\n              </div>\n\n              <form name="jobForm" ng-submit="updateJob($ctrl.data)">\n                <div layout="row">\n                  <span class="md-title">Application Information</span>\n                </div>\n                <div layout="row">\n                  <md-input-container flex="30">\n                    <label>Salary</label>\n                    <md-icon class="material-icons">attach_money</md-icon>\n                    <input ng-model="$ctrl.data.salary">\n                  </md-input-container>\n                </div>\n                <div layout="row">\n                  <md-input-container flex="50">\n                    <label>Application Link</label>\n                    <md-icon class="material-icons">web</md-icon>\n                    <input ng-model="$ctrl.data.link" type="url">\n                  </md-input-container>\n                </div>\n                <div layout="row">\n                  <span class="md-title">Contacts</span>\n                </div>\n                <div layout="row" layout-padding ng-repeat="contact in $ctrl.data.contacts track by $index">\n                  <md-input-container flex="35">\n                    <label>Name</label>\n                    <md-icon class="material-icons">contacts</md-icon>\n                    <input ng-model="contact.name">\n                  </md-input-container>\n\n                  <md-input-container flex="25">\n                    <label>Phone</label>\n                    <md-icon class="material-icons">call</md-icon>\n                    <input ng-model="contact.phoneNumber" type="tel">\n                  </md-input-container>\n\n                  <md-input-container flex="30">\n                    <label>e-mail</label>\n                    <md-icon class="material-icons">email</md-icon>\n                    <input ng-model="contact.email" type=\'email\'>\n                  </md-input-container>\n                  <md-button ng-hide="$index>0" ng-click="addContact($ctrl.data)" class="md-fab" aria-label="Edit contact">\n                    <i class="material-icons">add</i>\n                    <md-tooltip>Add Contact</md-tooltip>\n                  </md-button>\n                </div>\n                <div layout="row">\n                  <span class="md-title">Modify Steps</span>\n                </div>\n                <br>\n                <div layout="row">\n                  <span class="md-subhead">Current Step</span>\n                </div>\n                <div layout="row" layout-padding>\n                  <md-input-container flex="75">\n                    <md-icon class="material-icons">subject</md-icon>\n                    <label>Current Step</label>\n                    <input ng-model="$ctrl.data.currentStep.name">\n                  </md-input-container>\n\n                  <md-input-container flex="25">\n                    <label>Due Date</label>\n                    <md-datepicker ng-model="$ctrl.data.currentStep.dueDate" md-hide-icons="calendar"></md-datepicker>\n                  </md-input-container>\n                </div>\n                <div layout="row" layout-padding>\n                  <md-input-container flex="90">\n                    <label>Current Step Comments</label>\n                    <md-icon class="material-icons">comment</md-icon>\n                    <textarea ng-model="$ctrl.data.currentStep.comments[0]" md-maxlength="150" rows="1" md-select-on-focus></textarea>\n                  </md-input-container>\n                </div>\n                <div layout="row">\n                  <span class="md-subhead">Next Step</span>\n                </div>\n                <div layout="row" layout-padding>\n                  <md-input-container flex="75">\n                    <label>Next Step</label>\n                    <md-icon class="material-icons">subject</md-icon>\n                    <input ng-model="$ctrl.data.nextStep.name">\n                  </md-input-container>\n\n                  <md-input-container flex="25">\n                    <label>Due Date</label>\n                    <md-datepicker ng-model="$ctrl.data.nextStep.dueDate" md-hide-icons="calendar"></md-datepicker>\n                  </md-input-container>\n                </div>\n                <div layout="row" layout-padding>\n                  <md-input-container flex="90">\n                    <label>Next Step Comments</label>\n                    <md-icon class="material-icons">comment</md-icon>\n                    <textarea ng-model="$ctrl.data.nextStep.comments[0]" md-maxlength="150" rows="1" md-select-on-focus></textarea>\n                  </md-input-container>\n                </div>\n\n                <md-button type="submit" class="md-primary">Update Job</md-button>\n              </form>\n            </md-content>\n          </md-dialog>',controller:function(b,c,d){b.addContact=function(a){a.contacts.push({name:void 0,phoneNumber:void 0,email:void 0})},b.closeDialog=function(){c.hide()},b.updateJob=function(c){d.update(JSON.stringify(c)).then(function(c){b.closeDialog(),a.alert(c)})["catch"](function(a){console.log(a)})}}})}}}),angular.module("newsWidget",[]),angular.module("newsWidget").component("newsWidget",{template:'\n    <md-card id="news-widget" class=\'widget\' ng-if="articles !== 0">\n      <span class="md-headline">Your Curated News</span>\n      <md-divider></md-divider>\n\n      <div class="news-img-container" style="background-image:url(\'{{imageUrl}}\')"></div>\n\n      <md-content>\n        <span>{{title}}</span>\n        <p>From: {{source}}</p>\n        <p>{{content}}</p>\n      </md-content>\n\n      <md-divider></md-divider>\n      <md-footer style="padding-bottom:60px">\n        <md-button ng-click="prevArticle()">\n            <md-tooltip md-direction="top">Previous Article</md-tooltip>\n            <md-icon>navigate_before</md-icon>\n        </md-button>\n        <md-button ng-click="openArticle()">\n            Read More ...\n        </md-button>\n        <md-button ng-click="nextArticle()">\n            <md-tooltip md-direction="top">Next Article</md-tooltip>\n            <md-icon>navigate_next</md-icon>\n        </md-button>\n        <div>{{current}} of {{articles}}</div>\n      </md-footer>\n    </md-card>\n    ',controller:function(a,b,c){var d,e=0;c.current=1,c.articles=0,b.getCompanies().then(function(b){a.getNews(b).then(function(a){d=a,d?c.articles=d.length:(c.articles=0,c.current=0),f()})}),c.nextArticle=function(){void 0!==d[e+1]&&(e++,c.current=e+1,f())},c.openArticle=function(){var a=d[e].url;window.open(a)},c.prevArticle=function(){e>0&&(e--,c.current=e+1,f())};var f=function(){d&&(d[e].image?c.imageUrl=d[e].image.thumbnail.contentUrl:c.imageUrl="http://www.freeiconspng.com/uploads/no-image-icon-1.jpg",c.title=d[e].name,c.source=d[e].provider[0].name,c.content=d[e].description)}}}),angular.module("profileWidget",[]),angular.module("profileWidget").component("profileWidget",{template:'\n    <md-card id="profile-widget" class=\'widget\' layout="row">\n      <div class="profile-img-container">\n        <img class="profile-img" src="{{$ctrl.user.profilePic}}">\n      </div>\n      <div class="profile-data-container">\n        <span class="md-headline">{{$ctrl.user.username}}</span>\n        <p>{{$ctrl.user.city}}, {{$ctrl.user.state}}</p>\n        <p>{{$ctrl.user.email}}</p>\n        <p>Active Applications: {{$ctrl.user.jobs.length}}</p>\n      </div>\n      <!-- <button id="profile-add-job" ng-click="$ctrl.handleAddJobClick()">\n        <md-icon>add</md-icon>Add New Job\n      </button> -->\n    </md-card>\n    ',controller:function(a,b){var c=this;b.getAllData().then(function(a){c.user=a})}}),angular.module("tasksWidget",[]),angular.module("tasksWidget").component("tasksWidget",{template:'\n    <md-card id="tasks-widget" class=\'widget\'>\n      <span class="md-headline">Your Task Manager </span>\n\n      <md-divider></md-divider>\n\n      <div class="input-container">\n        <input type="text" placeholder="Add a new task..." ng-model="inputValue"></input>\n        <md-button class="md-icon-button" ng-click="$ctrl.createTask(inputValue); inputValue = null">\n            <md-tooltip md-direction="top">Add Task</md-tooltip>\n            <md-icon>add</md-icon>\n        </md-button>\n\n        <md-button class="md-icon-button" ng-click="$ctrl.deleteAllCompleted()">\n            <md-tooltip md-direction="top">Remove Completed Tasks</md-tooltip>\n            <md-icon>delete</md-icon>\n        </md-button>\n\n        <!-- <md-button class="md-icon-button" ng-click="">\n            <md-tooltip md-direction="top">Edit Mode</md-tooltip>\n            <md-icon>edit_mode</md-icon>\n        </md-button> -->\n      </div>\n\n      <md-divider ng-if="$ctrl.tasksList.length > 0"></md-divider>\n\n      <md-content>\n\n        <ul>\n          <li ng-repeat="task in $ctrl.tasksList">\n            <md-checkbox ng-checked="task.completed" ng-click="$ctrl.toggleCompleted(task._id, task.completed)">{{task.name}}</md-checkbox>\n          </li>\n        </ul>\n\n\n\n      </md-content>\n    </md-card>\n    ',controller:function(a,b){this.getTasks=function(){var a=this;b.get().then(function(b){a.tasksList=b||[]})},this.getTasks(),this.createTask=function(a){var c=this;a&&a.length>0&&b.create({name:a}).then(function(a){c.getTasks()})},this.deleteTask=function(a){var c=this,d=JSON.stringify({_id:a});b["delete"](d).then(function(a){c.getTasks()})},this.updateTask=function(a,c,d){var e=this,f={_id:a};c&&(f.name=c),"boolean"==typeof d&&(f.completed=d),f=JSON.stringify(f),b.update(f).then(function(a){e.getTasks()})},this.toggleCompleted=function(a,b){this.updateTask(a,null,!b)},this.deleteAllCompleted=function(){var a=this;this.tasksList.forEach(function(b){b.completed&&a.deleteTask(b._id)})}}}),angular.module("app.dashboard",["ngMaterial","profileWidget","newsWidget","calendarWidget","jobWidget","tasksWidget"]).controller("dashboardController",function(a,b,c,d,e){a.getJobs=function(){d.get().then(function(b){a.jobs=b})["catch"](function(a){console.log(a)})},a.getJobs(),a.setBackgroundImg=function(a){return'background-image:url("'+a.imgURL+'")'},a.getDate=function(a){var b=a.applicationDate,c=new Date(b),d=moment(c).format("MMM Do YY"),e=moment(c).fromNow();return d+"  |  "+e},a.newsArticle={number:0},a.test=function(){b.getNews("amazon").then(function(a){})},a.filterJobs=function(b){return angular.lowercase(b.company).indexOf(angular.lowercase(a.search)||"")!==-1||angular.lowercase(b.position).indexOf(angular.lowercase(a.search)||"")!==-1}}),angular.module("app.input",["ngMaterial","ngMessages"]).controller("inputController",function(a,b,c,d,e,f){a.job={company:void 0,salary:void 0,dateCreated:new Date,position:void 0,contacts:[{name:void 0,phoneNumber:void 0,email:void 0}],link:void 0,website:void 0,description:void 0,imageUrl:void 0,officialName:void 0,approxEmployees:void 0,founded:void 0,address:void 0,currentStep:{name:void 0,comments:[],dueDate:null},nextStep:{name:void 0,comments:[],dueDate:null}},a.addContact=function(){a.job.contacts.push({name:void 0,phoneNumber:void 0,email:void 0})},a.submitJob=function(b){console.log(a.job),void 0===a.job.nextStep.name&&(a.job.nextStep=null),void 0===a.job.contacts[0].name&&(a.job.contacts=[]),e.getInfo(a.job.website).then(function(b){if(console.log(b),void 0!==b){a.job.imageUrl=b.logo,a.job.description=b.organization.overview,a.job.officialName=b.organization.name,a.job.approxEmployees=b.organization.approxEmployees,a.job.founded=b.organization.founded;var d=b.organization.contactInfo.addresses[0];a.job.address=d.addressLine1+", "+d.locality+", "+d.region.code+", "+d.postalCode+", "+d.country.code,f.create(a.job).then(function(a){alert(a),c.url("/dashboard")})}})}}),angular.module("app.auth",["ngMaterial","ngMessages","signInForm","signUpForm"]).controller("authController",function(a,b,c){c.logout(),a.showWelcomeMessage=!0,a.showSignUp=!1,a.showSignIn=!1,b.handleGetStarted=function(){a.showWelcomeMessage=!1,a.showSignUp=!1,a.showSignIn=!0}}),angular.module("signInForm",[]),angular.module("signInForm").component("signInForm",{template:'\n    <md-card id="signin" class="landingCard" layout-margin>\n      <h2>Please Sign In</h2>\n\n      <form name="signInForm" ng-submit="">\n\n        <div layout="row">\n          <md-input-container flex=\'100\'>\n            <label>User Name</label>\n            <md-icon class="material-icons" style="color:rgb(0,150,136)">account_circle</md-icon>\n            <input ng-model="$ctrl.user.username" ng-required="true">\n          </md-input-container>\n        </div>\n\n        <div layout="row">\n          <md-input-container flex=\'100\'>\n            <label>Password</label>\n            <md-icon class="material-icons" style="color:rgb(0,150,136)">lock</md-icon>\n            <input ng-model="$ctrl.user.password" ng-required="true" type="password">\n          </md-input-container>\n        </div>\n\n        <div layout="row">\n          <md-button flex=\'100\' ng-click="$ctrl.handleClick()" class="md-raised md-primary">Sign In</md-button>\n        </div>\n\n        <div layout="row">\n          <md-button flex=\'100\' ng-click="$ctrl.handleGoTo()" class="md-primary">I want to create an account...</md-button>\n        </div>\n      </form>\n    </md-card>\n    ',controller:function(a,b){this.user={username:void 0,password:void 0},this.handleClick=function(){b.signin(this.user)},this.handleGoTo=function(){a.showWelcomeMessage=!1,a.showSignUp=!0,a.showSignIn=!1}}}),angular.module("signUpForm",[]),angular.module("signUpForm").component("signUpForm",{template:'\n    <md-card id="signup" class="landingCard" layout-margin>\n      <h2>Sign Up for your free account!</h2>\n\n      <form name="signUnForm" ng-submit="">\n\n        <div layout="row">\n          <md-input-container flex=\'100\'>\n            <label>User Name</label>\n            <md-icon class="material-icons" style="color:rgb(0,150,136)">account_circle</md-icon>\n            <input ng-model="$ctrl.user.username" ng-required="true">\n          </md-input-container>\n        </div>\n\n        <div layout="row">\n          <md-input-container flex=\'100\'>\n            <label>Email</label>\n            <md-icon class="material-icons" style="color:rgb(0,150,136)">mail</md-icon>\n            <input type="email" ng-model="$ctrl.user.email" ng-required="true">\n          </md-input-container>\n        </div>\n\n        <div layout="row">\n          <md-input-container flex=\'100\'>\n            <label>Profile Picture</label>\n            <md-icon class="material-icons" style="color:rgb(0,150,136)">link</md-icon>\n            <input type="url" ng-model="$ctrl.user.profilePic" ng-required="false">\n          </md-input-container>\n        </div>\n\n        <div layout="row">\n          <md-input-container flex=\'100\'>\n            <label>City</label>\n            <md-icon class="material-icons" style="color:rgb(0,150,136)">location_city</md-icon>\n            <input ng-model="$ctrl.user.city" ng-required="false">\n          </md-input-container>\n        </div>\n\n        <div layout="row">\n          <md-input-container flex=\'100\' style="margin-bottom:24px">\n            <label>State</label>\n            <md-icon class="material-icons" style="color:rgb(0,150,136)">location_city</md-icon>\n            <md-select ng-model="$ctrl.user.state">\n              <md-option ng-repeat="state in $ctrl.states" value="{{state}}">\n                {{state}}\n              </md-option>\n            </md-select>\n          </md-input-container>\n        </div>\n\n        <div layout="row">\n          <md-input-container flex=\'100\'>\n            <label>Password</label>\n            <md-icon class="material-icons" style="color:rgb(0,150,136)">lock</md-icon>\n            <input ng-model="$ctrl.user.password" ng-required="true" type="password">\n          </md-input-container>\n        </div>\n\n        <div layout="row">\n          <md-button flex=\'100\' ng-click="$ctrl.handleClick()" class="md-raised md-primary">Sign Up</md-button>\n        </div>\n\n        <div layout="row">\n          <md-button flex=\'100\' ng-click="$ctrl.handleGoTo()" class="md-primary">I already have an account...</md-button>\n        </div>\n      </form>\n    </md-card>\n    ',controller:function(a,b){this.states=["AK","AL","AR","AS","AZ","CA","CO","CT","DC","DE","FL","GA","GU","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VA","VI","VT","WA","WI","WV","WY"],this.user={username:void 0,password:void 0,profilePic:void 0,email:void 0,city:void 0,state:void 0},this.handleClick=function(){b.register(this.user)},this.handleGoTo=function(){a.showWelcomeMessage=!1,a.showSignUp=!1,a.showSignIn=!0}}}),angular.module("app.services",[]).factory("Companies",function(a){return{getInfo:function(b){return a({method:"GET",url:"/api/companyInfo?",params:{domain:b}}).then(function(a){return a.data})["catch"](function(a){console.log(a)})}}}).factory("News",function(a){var b=function(b){return Promise.all(b.map(function(b){return a.get("/api/news/?company="+b)})).then(function(a){var b=a.length;return b>4?a.map(function(a){return a.data.value[0]}).reduce(function(a,b){return a.concat(b)}):b>1?a.map(function(a){return[a.data.value[0],a.data.value[1]]}).reduce(function(a,b){return a.concat(b)}):1===b?a.map(function(a){return[a.data.value[0],a.data.value[1],a.data.value[2],a.data.value[3]]}).reduce(function(a,b){return a.concat(b)}):void 0})["catch"](function(a){console.log(a)})};return{getNews:b}}).factory("User",function(a){return{getAllData:function(){return a({method:"GET",url:"api/users"}).then(function(a){return a.data})["catch"](function(a){console.log(a)})},changeData:function(b){return a({method:"PATCH",url:"api/users",data:b}).then(function(a){return a.data})["catch"](function(a){console.log(a)})},"delete":function(){return a({method:"DELETE",url:"api/users"}).then(function(a){return a.data})},getCompanies:function(){return a({method:"GET",url:"api/companies"}).then(function(a){return a.data})["catch"](function(a){console.log(a)})}}}).factory("Jobs",function(a){return{create:function(b){return a({method:"POST",url:"api/jobs",data:b}).then(function(a){return a.data})["catch"](function(a){console.log(a)})},get:function(){return a({method:"GET",url:"api/jobs"}).then(function(a){return a.data})["catch"](function(a){console.log(a)})},update:function(b){return a({method:"PATCH",url:"api/jobs",data:b,headers:{"Content-type":"application/json;charset=utf-8"}}).then(function(a){return a.data})["catch"](function(a){console.log(a)})},"delete":function(b){return a({method:"DELETE",url:"api/jobs",data:b,headers:{"Content-type":"application/json;charset=utf-8"}}).then(function(a){return a.data})}}}).factory("Tasks",function(a){return{create:function(b){return a({method:"POST",url:"api/tasks",data:b}).then(function(a){return a.data})["catch"](function(a){console.log(a)})},get:function(){return a({method:"GET",url:"api/tasks"}).then(function(a){return a.data})["catch"](function(a){console.log(a)})},update:function(b){return a({method:"PATCH",url:"api/tasks",data:b,headers:{"Content-type":"application/json;charset=utf-8"}}).then(function(a){return a.data})["catch"](function(a){console.log(a)})},"delete":function(b){return a({method:"DELETE",url:"api/tasks",data:b,headers:{"Content-type":"application/json;charset=utf-8"}}).then(function(a){return a.data})}}}).factory("Auth",function(a,b){var c=function(c){a.post("/api/register",JSON.stringify(c)).then(function(a){b.path("/dashboard")},function(a){b.path("/"),alert(a.data.err.message)})},d=function(c){a.post("/api/login",JSON.stringify(c)).then(function(a){b.path("/dashboard")},function(a){b.path("/"),alert(a.data.err.message)})},e=function(){a.get("/api/logout")},f=function(a,b,c){a.$on("$routeChangeStart",function(a,d,e){c.get("/api/status").then(function(a){d.$$route&&!a.data.status&&b.path("/")})})};return{register:c,signin:d,logout:e,status:f}});