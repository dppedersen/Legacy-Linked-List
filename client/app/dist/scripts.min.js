"use strict";angular.module("app",["ngRoute","ngMaterial","ngFileUpload","app.input","app.dashboard","app.auth","app.services","jkAngularCarousel"]).config(function(a,b,c,d){a.hashPrefix(""),c.theme("default").primaryPalette("teal").accentPalette("blue"),b.when("/",{templateUrl:"./app/landing/landingTemplate.html",controller:"authController"}).when("/input",{templateUrl:"./app/input/inputTemplate.html",controller:"inputController"}).when("/dashboard",{templateUrl:"./app/dashboard/dashboardTemplate.html",controller:"dashboardController"}).when("/logout",{redirectTo:"/"})}).controller("navController",function(a,b){a.showSignUp=!1,a.renderNavButtons=function(){var a=b.path();return"/"!==a},a.handleDashboardClick=function(){b.path("dashboard")},a.handleInputClick=function(){b.path("input")},a.handleLogoutClick=function(){b.path("logout")}}).run(function(a,b,c,d){return a.status(b,c,d)}),angular.module("calendarWidget",[]).component("calendarWidget",{templateUrl:"./app/components/calendarWidgetTemplate.html",controller:function(a,b,c,d){a.today=new Date,a.dates=[],a.maxDate=new Date,a.maxDate.setDate(a.today.getDate()+60),a.taskData,b.get("/api/dates").then(function(b){a.taskData=b,//console.log("API/DATES DATA:",a.taskData);var c=b.data.map(function(a){return new Date(a.dueDate)});a.dates=c.map(function(a){return[a.getFullYear(),a.getMonth(),a.getDate()]})}),a.showPrerenderedDialog=function(b){a.date=b.target.parentNode.attributes["aria-label"].value,a.taskDate=new Date(a.date),//console.log("Scope Task:",a.task),a.task=a.taskData.data.filter(function(b){return new Date(b.dueDate).getTime()===a.taskDate.getTime()}),d.show({contentElement:"#myDialog",parent:angular.element(document.body),targetEvent:b,clickOutsideToClose:!0})},a.filterDates=function(b){var c=b.getFullYear(),d=b.getMonth(),e=b.getDate();return a.dates.reduce(function(a,b){return c===b[0]&&d===b[1]&&e===b[2]||a},!1)}}}),angular.module("jobWidget",[]),angular.module("jobWidget").component("jobWidget",{template:'\n    <md-card class="job-card">\n      <md-card-header style="display:flex; align-items:center">\n        <md-card-avatar class="job-widget-image" style="{{$ctrl.imageStyle($ctrl.data.imageUrl)}}"></md-card-avatar>\n\n        <md-card-header-text>\n          <span class="md-headline">{{$ctrl.data.company}}</span>\n          <span class="md-subhead">{{$ctrl.data.position}}</span>\n        </md-card-header-text>\n\n        <!--<md-button class="md-fab md-mini" ng-click="$ctrl.toggleFavorite()">\n            <md-tooltip md-direction="top">Set as Favorite</md-tooltip>\n            <md-icon>{{$ctrl.renderFavoriteIcon()}}</md-icon>\n        </md-button>-->\n\n        <md-button class="md-fab md-mini" ng-click="$ctrl.editJob()">\n            <md-tooltip md-direction="top">Edit Job</md-tooltip>\n            <md-icon>edit</md-icon>\n        </md-button>\n\n        <md-button class="md-fab md-mini" ng-click="$ctrl.deleteJob($ctrl.data)">\n            <md-tooltip md-direction="top">Delete Job</md-tooltip>\n            <md-icon>delete</md-icon>\n        </md-button>\n      </md-card-header>\n\n      <md-divider></md-divider>\n      <md-tabs md-dynamic-height="" md-border-bottom="" md-center-tabs="true" md-stretch-tabs="always">\n\n         <!--<md-tab>\n            <md-tab-label><md-icon>expand_less</md-icon></md-tab-label>\n          </md-tab>-->\n\n          <md-tab label="JOB INFO">\n          <md-content>\n              <p class="md-subhead"><strong>Date Applied: </strong>{{$ctrl.parseDate($ctrl.data.dateCreated)}}</p>\n              <p class="md-subhead"><strong>Application Link: </strong>{{$ctrl.data.link}}</p>\n              <p class="md-subhead"><strong>Current Step: </strong>{{$ctrl.data.currentStep.name}}</p>\n              <p class="md-subhead"><strong>Next Step: </strong>{{$ctrl.data.nextStep.name}}</p>\n              <p class="md-subhead"><strong>Salary: </strong>${{$ctrl.data.salary}}</p>\n          </md-content>\n          </md-tab>\n\n          <md-tab label="COMPANY">\n          <md-content>\n            <p class="md-subhead"><strong>Company: </strong>{{$ctrl.data.officialName}}</p>\n            <p class="md-subhead"><strong>Website: </strong><a href=\'http://{{$ctrl.data.website}}\'/>{{$ctrl.data.website}}</a></p>\n            <p class="md-subhead"><strong>Description: </strong>{{$ctrl.data.description}}</p>\n            <p class="md-subhead"><strong>Founded: </strong>{{$ctrl.data.founded}}</p>\n            <p class="md-subhead"><strong># of Employees: </strong>{{$ctrl.data.approxEmployees}}</p>\n            <p class="md-subhead"><strong>Address: </strong>{{$ctrl.data.address}}</p>\n            </md-content>\n          </md-tab>\n\n          <md-tab label="CONTACT">\n          <md-content ng-repeat=\'contact in $ctrl.data.contacts\'>\n            <div layout="column" class="contact-divider" style="padding-left: 0">\n              <p class="md-subhead contact-info"><md-icon>person</md-icon>{{contact.name}}</p>\n              <p class="md-subhead contact-info"><md-icon>phone</md-icon>{{contact.phoneNumber}}</p>\n              <p class="md-subhead contact-info"><md-icon>email</md-icon>{{contact.email}}</p>\n              <p class="md-subhead contact-info"><md-icon>share</md-icon>{{contact.handle}}</p>\n            </div>\n          </md-content>\n          </md-tab>\n\n          <md-tab label="STATUS">\n          <md-content>\n            <div layout="column" class="contact-divider" style="padding-left: 0">\n              <p class="md-subhead" style="margin-top: 0"> <strong>Current Step: </strong> {{$ctrl.data.currentStep.name}}</p>\n              <p class="md-subhead" style="margin-top: 0"> <strong>Due: </strong> {{$ctrl.parseDate($ctrl.data.currentStep.dueDate)}}</p>\n              <p class="md-subhead" style="margin-top: 0; margin-bottom: 0;" ng-if="$ctrl.data.currentStep.comments.length > 0"> <strong>Comments: </strong>\n                <md-content layout-margin ng-repeat=\'comment in $ctrl.data.currentStep.comments\'> {{comment}} </md-content>\n              </p>\n\n              <md-divider style="margin-top: 16px; margin-bottom: 16px;"></md-divider>\n\n              <p class="md-subhead"> <strong>Next Step: </strong> {{$ctrl.data.nextStep.name}}</p>\n              <p class="md-subhead" style="margin-top: 0"> <strong>Due: </strong> {{$ctrl.parseDate($ctrl.data.nextStep.dueDate)}}</p>\n              <p class="md-subhead" style="margin-top: 0; margin-bottom: 0;" ng-if="$ctrl.data.currentStep.comments.length > 0"> <strong>Comments: </strong>\n                <md-content layout-margin ng-repeat=\'comment in $ctrl.data.nextStep.comments\'> {{comment}} </md-content>\n              </p>\n            </div>\n\n          </md-content>\n        </md-tab>\n\n        </md-tabs>\n\n    </md-card>\n    ',bindings:{data:"="},controller:function(a,b,c,d,e){this.favorite=!1,e.get().then(function(a){b.jobs=a}),this.toggleFavorite=function(){this.favorite=!this.favorite},this.renderFavoriteIcon=function(){return this.favorite?"star":"star_border"},this.imageStyle=function(a){return"background-image:url('"+a+"');width:120px;background-repeat: no-repeat;background-size:cover;margin-right:10px"},this.parseDate=function(a){var b=new Date(a),c=moment(b).format("MMM Do YY"),d=moment(b).fromNow();return d+" on "+c},this.deleteJob=function(a){var b=function(b){var f={_id:a._id},g=d.confirm().title("Delete!").textContent("Delete Job?").ariaLabel("Confirm Delete").targetEvent(b).ok("Yes").cancel("No"),h=d.confirm().title("Save!").textContent("Save Job?").ariaLabel("Confirm Save").targetEvent(b).ok("Yes").cancel("No"),i=d.prompt().title("Were you asked any specific interview questions?").textContent("Write down some you would like to remember!").placeholder("Ex. Balance this search tree!").ok("Submit").cancel("Do Not Add");d.show(g).then(function(){d.show(h).then(function(){d.show(i).then(function(a){f.questions=a,e.saveAndDelete(JSON.stringify(f)).then(function(a){c.reload()})["catch"](function(a){//console.log(a)})},function(){f.questions="No Questions Added!",e.saveAndDelete(JSON.stringify(f)).then(function(a){c.reload()})["catch"](function(a){//console.log(a)})})},function(){e["delete"](f).then(function(a){c.reload()})["catch"](function(a){//console.log(a)})})},function(){})};b()},this.editJob=function(c){var e=angular.element(document.body);d.show({parent:e,targetEvent:c,locals:{jobs:b.jobs},clickOutsideToClose:!0,scope:b,preserveScope:!0,template:'\n          <md-dialog>\n            <md-content layout-padding>\n              <div layout="row">\n                <span flex="80" class="md-display-1">Edit Application</span>\n              </div>\n\n              <form name="jobForm" ng-submit="updateJob($ctrl.data)">\n                <div layout="row">\n                  <span class="md-title">Application Information</span>\n                </div>\n                <div layout="row">\n                  <md-input-container flex="30">\n                    <label>Salary</label>\n                    <md-icon class="material-icons">attach_money</md-icon>\n                    <input ng-model="$ctrl.data.salary">\n                  </md-input-container>\n                </div>\n                <div layout="row">\n                  <md-input-container flex="50">\n                    <label>Application Link</label>\n                    <md-icon class="material-icons">web</md-icon>\n                    <input ng-model="$ctrl.data.link" type="url">\n                  </md-input-container>\n                </div>\n                <div layout="row" layout-align="start center">\n                  <span flex class="md-title">Contacts</span>\n\n                  <md-button flex="none" ng-hide="$index>0" ng-click="addContact($ctrl.data)" class="md-fab md-mini" aria-label="Edit contact">\n                  <md-icon class="ng-scope material-icons" role="img" aria-hidden="true">add</md-icon>\n                  <md-tooltip>Add Contact</md-tooltip>\n                  </md-button>\n\n                </div>\n\n                <div layout="row" layout-padding ng-repeat="contact in $ctrl.data.contacts track by $index">\n                  <md-input-container flex="35">\n                    <label>Name</label>\n                    <md-icon class="material-icons">contacts</md-icon>\n                    <input ng-model="contact.name">\n                  </md-input-container>\n\n                  <md-input-container flex="25">\n                    <label>Phone</label>\n                    <md-icon class="material-icons">call</md-icon>\n                    <input ng-model="contact.phoneNumber" type="tel">\n                  </md-input-container>\n\n                  <md-input-container flex="30">\n                    <label>e-mail</label>\n                    <md-icon class="material-icons">email</md-icon>\n                    <input ng-model="contact.email" type=\'email\'>\n                  </md-input-container>\n\n                  <md-input-container flex="30">\n                    <label>Twitter Handle</label>\n                    <md-icon class="material-icons">share</md-icon>\n                    <input ng-model="contact.handle" placeholder="@">\n                  </md-input-container>\n\n                </div>\n                <div layout="row">\n                  <span class="md-title">Modify Steps</span>\n                </div>\n                <br>\n                <div layout="row">\n                  <span class="md-subhead">Current Step</span>\n                </div>\n                <div layout="row" layout-padding>\n                  <md-input-container flex="75">\n                    <md-icon class="material-icons">subject</md-icon>\n                    <label>Current Step</label>\n                    <input ng-model="$ctrl.data.currentStep.name">\n                  </md-input-container>\n\n                  <md-input-container flex="25">\n                    <label>Due Date</label>\n                    <md-datepicker ng-model="$ctrl.data.currentStep.dueDate" md-hide-icons="calendar"></md-datepicker>\n                  </md-input-container>\n                </div>\n                <div layout="row" layout-padding>\n                  <md-input-container flex="90">\n                    <label>Current Step Comments</label>\n                    <md-icon class="material-icons">comment</md-icon>\n                    <textarea ng-model="$ctrl.data.currentStep.comments[0]" md-maxlength="150" rows="1" md-select-on-focus></textarea>\n                  </md-input-container>\n                </div>\n                <div layout="row">\n                  <span class="md-subhead">Next Step</span>\n                </div>\n                <div layout="row" layout-padding>\n                  <md-input-container flex="75">\n                    <label>Next Step</label>\n                    <md-icon class="material-icons">subject</md-icon>\n                    <input ng-model="$ctrl.data.nextStep.name">\n                  </md-input-container>\n\n                  <md-input-container flex="25">\n                    <label>Due Date</label>\n                    <md-datepicker ng-model="$ctrl.data.nextStep.dueDate" md-hide-icons="calendar"></md-datepicker>\n                  </md-input-container>\n                </div>\n                <div layout="row" layout-padding>\n                  <md-input-container flex="90">\n                    <label>Next Step Comments</label>\n                    <md-icon class="material-icons">comment</md-icon>\n                    <textarea ng-model="$ctrl.data.nextStep.comments[0]" md-maxlength="150" rows="1" md-select-on-focus></textarea>\n                  </md-input-container>\n                </div>\n\n                <md-button type="submit" class="md-primary">Update Job</md-button>\n              </form>\n            </md-content>\n          </md-dialog>',controller:function(b,c,d,e){b.addContact=function(a){a.contacts.push({name:void 0,phoneNumber:void 0,email:void 0})},b.closeDialog=function(){c.hide()},b.updateJob=function(c){d.update(JSON.stringify(c)).then(function(c){b.closeDialog(),a.alert(c),e.reload()})["catch"](function(a){//console.log(a)})}}})}}}),angular.module("newsWidget",[]),angular.module("newsWidget").component("newsWidget",{template:'\n    <md-card id="news-widget" class=\'widget\' ng-if="articles !== 0">\n      <span class="md-headline">Your Curated News</span>\n      <md-divider></md-divider>\n\n      <div class="news-img-container" style="background-image:url(\'{{imageUrl}}\')"></div>\n\n      <md-content>\n        <span>{{title}}</span>\n        <p>From: {{source}}</p>\n        <p>{{content}}</p>\n      </md-content>\n\n      <md-divider></md-divider>\n      <md-footer style="padding-bottom:60px">\n        <md-button ng-click="prevArticle()">\n            <md-tooltip md-direction="top">Previous Article</md-tooltip>\n            <md-icon>navigate_before</md-icon>\n        </md-button>\n        <md-button ng-click="openArticle()">\n            Read More ...\n        </md-button>\n        <md-button ng-click="nextArticle()">\n            <md-tooltip md-direction="top">Next Article</md-tooltip>\n            <md-icon>navigate_next</md-icon>\n        </md-button>\n        <div>{{current}} of {{articles}}</div>\n      </md-footer>\n    </md-card>\n    ',controller:function(a,b,c){var d,e=0;c.current=1,c.articles=0,b.getCompanies().then(function(b){a.getNews(b).then(function(a){d=a,d?c.articles=d.length:(c.articles=0,c.current=0),f()})}),c.nextArticle=function(){void 0!==d[e+1]&&(e++,c.current=e+1,f())},c.openArticle=function(){var a=d[e].url;window.open(a)},c.prevArticle=function(){e>0&&(e--,c.current=e+1,f())};var f=function(){d&&(d[e].image?c.imageUrl=d[e].image.thumbnail.contentUrl:c.imageUrl="http://www.freeiconspng.com/uploads/no-image-icon-1.jpg",c.title=d[e].name,c.source=d[e].provider[0].name,c.content=d[e].description)}}}),angular.module("profileWidget",[]),angular.module("profileWidget").component("profileWidget",{template:'\n    <md-card id="profile-widget" class=\'widget\' layout="row">\n      <div class="profile-img-container">\n        <img class="profile-img" ng-src="{{$ctrl.user.google.profilePic === \'\' ? $ctrl.user.local.profilePic : $ctrl.user.google.profilePic }}">\n      </div>\n      <div class="profile-data-container">\n        <div>\n          <span class="md-headline" ng-if="$ctrl.user.google.id === \'\'">{{$ctrl.user.local.username}}</span>\n          <span class="md-headline" ng-if="$ctrl.user.google.id !== \'\'">{{$ctrl.user.google.name}}</span>\n        </div>\n        <p>{{$ctrl.user.google.email === \'\' ? $ctrl.user.local.email : $ctrl.user.google.email}}</p>\n        <p>{{$ctrl.user.local.city}}, {{$ctrl.user.local.state}}</p>\n        <p>Active Applications: {{$ctrl.user.jobs.length}}</p>\n      </div>\n      <!-- <button id="profile-add-job" ng-click="$ctrl.handleAddJobClick()">\n        <md-icon>add</md-icon>Add New Job\n      </button> -->\n    </md-card>\n    ',controller:function(a,b){var c=this;b.getAllData().then(function(a){c.user=a})}}),angular.module("savedJobsWidget",[]),angular.module("savedJobsWidget").component("savedJobsWidget",{template:'\n    <md-card id="saved-jobs-widget" class=\'widget\'>\n\n      <div style="display: flex; justify-content: space-between">\n        <span></span>\n        <span class="md-headline">Saved Jobs</span>\n        <md-button class="md-icon-button" ng-click="$ctrl.deleteAll()">\n            <md-icon>delete</md-icon>\n        </md-button>\n      </div>\n\n      <md-divider></md-divider>\n\n      <md-content">\n\n        <ul>\n          <li ng-repeat="savedJob in $ctrl.savedJobsList" style="display: flex; justify-content: space-between; align-items: center">\n            <div style="display: flex; justify-content: space-around; align-items: center;">\n              <b style="padding-right: 10px">{{savedJob.company}}</b>\n              <p>{{savedJob.position}}</p>\n            </div>\n            <div style="display: flex; justify-content: flex-end; align-items: flex-end;">\n\n              <md-button class="md-primary md-raised" ng-click="$ctrl.showTabDialog(savedJob)" >\n                Details\n              </md-button>\n              <md-checkbox ng-checked="savedJob.toDelete" ng-click="$ctrl.toggleDelete(savedJob)"></md-checkbox>\n            </div>\n          </li>\n        </ul>\n\n\n      </md-content>\n    </md-card>\n    ',controller:function(a,b,c){this.getSavedJobs=function(){var a=this;c.get().then(function(b){//console.log(b),a.savedJobsList=b.filter(function(a){return null!==a})||[]})},this.getSavedJobs(),this.toggleDelete=function(a){a.toDelete=!a.toDelete},this.deleteAll=function(){var a=this;this.savedJobsList.forEach(function(b){b.toDelete&&c["delete"]({_id:b._id}).then(function(b){a.getSavedJobs()})})};var d=this;this.showTabDialog=function(a){//console.log(d),//console.log("savedJob",a),b.show({templateUrl:"app/components/savedJobsDetailsTab.tmpl.html",parent:angular.element(document.body),clickOutsideToClose:!0,locals:{savedJob:a},controller:["$scope","savedJob",function(a,b){a.savedJob=b}]}).then(function(){})}}}),angular.module("tasksWidget",[]),angular.module("tasksWidget").component("tasksWidget",{template:'\n    <md-card id="tasks-widget" class=\'widget\'>\n      <span class="md-headline">Your Task Manager </span>\n\n      <md-divider></md-divider>\n\n      <div class="input-container">\n        <input type="text" placeholder="Add a new task..." ng-model="inputValue"></input>\n        <md-button class="md-icon-button" ng-click="$ctrl.createTask(inputValue); inputValue = null">\n            <md-tooltip md-direction="top">Add Task</md-tooltip>\n            <md-icon>add</md-icon>\n        </md-button>\n\n        <md-button class="md-icon-button" ng-click="$ctrl.deleteAllCompleted()">\n            <md-tooltip md-direction="top">Remove Completed Tasks</md-tooltip>\n            <md-icon>delete</md-icon>\n        </md-button>\n\n        <!-- <md-button class="md-icon-button" ng-click="">\n            <md-tooltip md-direction="top">Edit Mode</md-tooltip>\n            <md-icon>edit_mode</md-icon>\n        </md-button> -->\n      </div>\n\n      <md-divider ng-if="$ctrl.tasksList.length > 0"></md-divider>\n\n      <md-content>\n\n        <ul>\n          <li ng-repeat="task in $ctrl.tasksList">\n            <md-checkbox ng-checked="task.completed" ng-click="$ctrl.toggleCompleted(task._id, task.completed)">{{task.name}}</md-checkbox>\n          </li>\n        </ul>\n\n\n\n      </md-content>\n    </md-card>\n    ',controller:function(a,b){this.getTasks=function(){var a=this;b.get().then(function(b){a.tasksList=b||[]})},this.getTasks(),this.createTask=function(a){var c=this;a&&a.length>0&&b.create({name:a}).then(function(a){c.getTasks()})},this.deleteTask=function(a){var c=this,d=JSON.stringify({_id:a});b["delete"](d).then(function(a){c.getTasks()})},this.updateTask=function(a,c,d){var e=this,f={_id:a};c&&(f.name=c),"boolean"==typeof d&&(f.completed=d),f=JSON.stringify(f),b.update(f).then(function(a){e.getTasks()})},this.toggleCompleted=function(a,b){this.updateTask(a,null,!b)},this.deleteAllCompleted=function(){var a=this;this.tasksList.forEach(function(b){b.completed&&a.deleteTask(b._id)})}}}),angular.module("twitterWidget",["jkAngularCarousel"]),angular.module("twitterWidget").component("twitterWidget",{template:'\n    <md-card id="twitter-card" class=\'widget\' ng-if="$ctrl.carousel.tweets.length > 0" >\n      <span class="md-headline">\n        See What Your Contacts Are Saying\n      </span>\n      <md-divider></md-divider>\n\n      <jk-carousel data="$ctrl.carousel.tweets" current-index="$ctrl.carousel.currentIndex" item-template-url="\'/app/components/twitterCarouselTemplate.html\'" width="100%" height="100%" auto-slide="true" auto-slide-time="4000" >\n      </jk-carousel>\n    </md-card>\n    <md-card id="twitter-card" class=\'widget\' ng-if="$ctrl.carousel.tweets.length === 0" >\n      <span class="md-headline" style="font-size: .8em; text-decoration: italic; color: grey;">\n        Connect to your contacts\' twitter by updating their info with a valid handle\n      </span>\n    </md-card>\n    ',controller:function(a,b,c,d,e){function f(a){for(var b=a.length-1;b>0;b--){var c=Math.floor(Math.random()*(b+1)),d=a[b];a[b]=a[c],a[c]=d}return a}var g={tweets:[],currentIndex:0};this.carousel=g,e.get().then(function(a){var b=a.reduce(function(a,b){return a.concat(b.contacts.reduce(function(a,b){return a.concat(b.handle)},[]))},[]);d.getTweets(b).then(function(a){//console.log("rendering tweets"),a.forEach(function(a){a.created_at=moment(a.created_at).fromNow()}),a=f(a),g.tweets=a})["catch"](function(a){//console.error(a)})})}}),angular.module("app.dashboard",["ngMaterial","profileWidget","newsWidget","calendarWidget","jobWidget","tasksWidget","twitterWidget","savedJobsWidget"]).controller("dashboardController",function(a,b,c,d,e,f){a.getJobs=function(){d.get().then(function(b){a.jobs=b})["catch"](function(a){//console.log(a)})},a.getJobs(),a.setBackgroundImg=function(a){return'background-image:url("'+a.imgURL+'")'},a.getDate=function(a){var b=a.applicationDate,c=new Date(b),d=moment(c).format("MMM Do YY"),e=moment(c).fromNow();return d+"  |  "+e},a.newsArticle={number:0},a.test=function(){b.getNews("amazon").then(function(a){})},a.filterJobs=function(b){return angular.lowercase(b.company).indexOf(angular.lowercase(a.search)||"")!==-1||angular.lowercase(b.position).indexOf(angular.lowercase(a.search)||"")!==-1}}),angular.module("app.input",["ngMaterial","ngMessages"]).controller("inputController",function(a,b,c,d,e,f,g,h){a.job={company:void 0,salary:void 0,dateCreated:new Date,position:void 0,contacts:[{name:void 0,phoneNumber:void 0,email:void 0,handle:void 0}],link:void 0,website:void 0,description:void 0,imageUrl:void 0,officialName:void 0,approxEmployees:void 0,founded:void 0,address:void 0,currentStep:{name:void 0,comments:[],dueDate:null},nextStep:{name:void 0,comments:[],dueDate:null},resume:void 0},a.fileAdded=!1,//console.log(a.fileAdded),a.$watch("file",function(){var b=a.file;b&&(a.fileAdded=!0)}),a.addContact=function(){a.job.contacts.push({name:void 0,phoneNumber:void 0,email:void 0})},a.submitJob=function(b){//console.log("$SCOPE.JOB",a.job),//console.log("SUBMITTING JOB, $SCOPE.FILE: ",a.file),void 0===a.job.nextStep.name&&(a.job.nextStep=null),void 0===a.job.contacts[0].name&&(a.job.contacts=[]),g.getInfo(a.job.website).then(function(b){if(void 0!==b){//console.log(b),a.job.imageUrl=b.logo,a.job.description=b.organization.overview,a.job.officialName=b.organization.name,a.job.approxEmployees=b.organization.approxEmployees,a.job.founded=b.organization.founded;var f=b.organization.contactInfo.addresses[0];f.code&&(a.job.address=f.addressLine1+", "+f.locality+", "+f.region.code+", "+f.postalCode+", "+f.country.code),e.upload({url:"api/upload",file:a.file||""}).then(function(b){//console.log(b.data),//console.log("THIS IS IN SUBMIT JOBS"),a.job.resume=b.data,h.create(a.job).then(function(a){alert(a),c.url("/dashboard")})["catch"](function(a){//console.log("error creating job"),d.reload()})})["catch"](function(a){d.reload()})}})}}),angular.module("app.auth",["ngMaterial","ngMessages","signInForm","signUpForm"]).controller("authController",function(a,b,c){c.logout(),a.showWelcomeMessage=!0,a.showSignUp=!1,a.showSignIn=!1,b.handleGetStarted=function(){a.showWelcomeMessage=!1,a.showSignUp=!1,a.showSignIn=!0}}),angular.module("signInForm",[]),angular.module("signInForm").component("signInForm",{template:'\n    <md-card id="signin" class="landingCard" layout-margin>\n      <h2>Please Sign In</h2>\n\n      <form name="signInForm" ng-submit="">\n\n        <div layout="row">\n          <md-input-container flex=\'100\'>\n            <label>User Name</label>\n            <md-icon class="material-icons" style="color:rgb(0,150,136)">account_circle</md-icon>\n            <input ng-model="$ctrl.user.username" ng-required="true">\n          </md-input-container>\n        </div>\n\n        <div layout="row">\n          <md-input-container flex=\'100\'>\n            <label>Password</label>\n            <md-icon class="material-icons" style="color:rgb(0,150,136)">lock</md-icon>\n            <input ng-model="$ctrl.user.password" ng-required="true" type="password">\n          </md-input-container>\n        </div>\n\n        <div layout="row">\n          <md-button flex=\'100\' ng-click="$ctrl.handleClick()" class="md-raised md-primary">Sign In</md-button>\n        </div>\n\n        <h3 style="text-align: center;">Or <br /></h3>\n        <div class="googleDiv">\n          <a href="/auth/google" class="googleSignIn"></a>\n        </div>\n        <div layout="row">\n          <md-button flex=\'100\' ng-click="$ctrl.handleGoTo()" class="md-primary">I want to create an account...</md-button>\n        </div>\n      </form>\n    </md-card>\n    ',controller:function(a,b){this.user={username:void 0,password:void 0},this.handleClick=function(){b.signin(this.user)},this.handleGoTo=function(){a.showWelcomeMessage=!1,a.showSignUp=!0,a.showSignIn=!1}}}),angular.module("signUpForm",[]),angular.module("signUpForm").component("signUpForm",{template:'\n    <md-card id="signup" class="landingCard" layout-margin>\n      <h2>Sign Up for your free account!</h2>\n\n      <form name="signUnForm" ng-submit="">\n\n        <div layout="row">\n          <md-input-container flex=\'100\'>\n            <label>User Name</label>\n            <md-icon class="material-icons" style="color:rgb(0,150,136)">account_circle</md-icon>\n            <input ng-model="$ctrl.user.username" ng-required="true">\n          </md-input-container>\n        </div>\n\n        <div layout="row">\n          <md-input-container flex=\'100\'>\n            <label>Email</label>\n            <md-icon class="material-icons" style="color:rgb(0,150,136)">mail</md-icon>\n            <input type="email" ng-model="$ctrl.user.email" ng-required="true">\n          </md-input-container>\n        </div>\n\n        <div layout="row">\n          <md-input-container flex=\'100\'>\n            <label>Profile Picture</label>\n            <md-icon class="material-icons" style="color:rgb(0,150,136)">link</md-icon>\n            <input type="url" ng-model="$ctrl.user.profilePic" ng-required="false">\n          </md-input-container>\n        </div>\n\n        <div layout="row">\n          <md-input-container flex=\'100\'>\n            <label>City</label>\n            <md-icon class="material-icons" style="color:rgb(0,150,136)">location_city</md-icon>\n            <input ng-model="$ctrl.user.city" ng-required="false">\n          </md-input-container>\n        </div>\n\n        <div layout="row">\n          <md-input-container flex=\'100\' style="margin-bottom:24px">\n            <label>State</label>\n            <md-icon class="material-icons" style="color:rgb(0,150,136)">location_city</md-icon>\n            <md-select ng-model="$ctrl.user.state">\n              <md-option ng-repeat="state in $ctrl.states" value="{{state}}">\n                {{state}}\n              </md-option>\n            </md-select>\n          </md-input-container>\n        </div>\n\n        <div layout="row">\n          <md-input-container flex=\'100\'>\n            <label>Password</label>\n            <md-icon class="material-icons" style="color:rgb(0,150,136)">lock</md-icon>\n            <input ng-model="$ctrl.user.password" ng-required="true" type="password">\n          </md-input-container>\n        </div>\n\n        <div layout="row">\n          <md-button flex=\'100\' ng-click="$ctrl.handleClick()" class="md-raised md-primary">Sign Up</md-button>\n        </div>\n\n        <div layout="row">\n          <md-button flex=\'100\' ng-click="$ctrl.handleGoTo()" class="md-primary">I already have an account...</md-button>\n        </div>\n      </form>\n    </md-card>\n    ',controller:function(a,b){this.states=["AK","AL","AR","AS","AZ","CA","CO","CT","DC","DE","FL","GA","GU","HI","IA","ID","IL","IN","KS","KY","LA","MA","MD","ME","MI","MN","MO","MS","MT","NC","ND","NE","NH","NJ","NM","NV","NY","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VA","VI","VT","WA","WI","WV","WY"],this.user={username:void 0,password:void 0,profilePic:void 0,email:void 0,city:void 0,state:void 0},this.handleClick=function(){b.register(this.user)},this.handleGoTo=function(){a.showWelcomeMessage=!1,a.showSignUp=!1,a.showSignIn=!0}}}),angular.module("app.services",[]).factory("Companies",function(a){return{getInfo:function(b){return a({method:"GET",url:"/api/companyInfo?",params:{domain:b}}).then(function(a){return //console.log("$HTTP REQUEST",a.data),a.data})["catch"](function(a){alert("Your URL might be wrong! Try Again!"),$route.reload()})}}}).factory("News",function(a){var b=function(b){return Promise.all(b.map(function(b){return a.get("/api/news/?company="+b)})).then(function(a){var b=a.length;return b>4?a.map(function(a){return a.data.value[0]}).reduce(function(a,b){return a.concat(b)}):b>1?a.map(function(a){return[a.data.value[0],a.data.value[1]]}).reduce(function(a,b){return a.concat(b)}):1===b?a.map(function(a){return[a.data.value[0],a.data.value[1],a.data.value[2],a.data.value[3]]}).reduce(function(a,b){return a.concat(b)}):void 0})["catch"](function(a){//console.log(a)})};return{getNews:b}}).factory("Tweets",function(a){var b=function(b){return a.post("/api/twitter",b).then(function(a){return //console.log("Tweets recieved by factory"),a.data})["catch"](function(a){//console.error("Failed Tweets.factory fetching tweets..."),//console.error(a)})};return{getTweets:b}}).factory("InsertFactory",function(){var a={};return a.addTo=function(b){a.jobs=b},a}).factory("User",function(a){return{getAllData:function(){return a({method:"GET",url:"api/users"}).then(function(a){return a.data})["catch"](function(a){//console.log(a)})},changeData:function(b){return a({method:"PATCH",url:"api/users",data:b}).then(function(a){return a.data})["catch"](function(a){//console.log(a)})},"delete":function(){return a({method:"DELETE",
url:"api/users"}).then(function(a){return a.data})},getCompanies:function(){return a({method:"GET",url:"api/companies"}).then(function(a){return a.data})["catch"](function(a){//console.log(a)})}}}).factory("Jobs",function(a){return{create:function(b){return a({method:"POST",url:"api/jobs",data:b}).then(function(a){return a.data})["catch"](function(a){//console.log(a)})},get:function(){return a({method:"GET",url:"api/jobs"}).then(function(a){return a.data})["catch"](function(a){//console.log(a)})},update:function(b){return a({method:"PATCH",url:"api/jobs",data:b,headers:{"Content-type":"application/json;charset=utf-8"}}).then(function(a){return a.data})["catch"](function(a){//console.log(a)})},"delete":function(b){return a({method:"DELETE",url:"api/jobs",data:b,headers:{"Content-type":"application/json;charset=utf-8"}}).then(function(a){return a.data})},saveAndDelete:function(b){return a({method:"POST",url:"api/savedJobs",data:b,headers:{"Content-type":"application/json;charset=utf-8"}}).then(function(a){return a.data})}}}).factory("Tasks",function(a){return{create:function(b){return a({method:"POST",url:"api/tasks",data:b}).then(function(a){return a.data})["catch"](function(a){//console.log(a)})},get:function(){return a({method:"GET",url:"api/tasks"}).then(function(a){return a.data})["catch"](function(a){//console.log(a)})},update:function(b){return a({method:"PATCH",url:"api/tasks",data:b,headers:{"Content-type":"application/json;charset=utf-8"}}).then(function(a){return a.data})["catch"](function(a){//console.log(a)})},"delete":function(b){return a({method:"DELETE",url:"api/tasks",data:b,headers:{"Content-type":"application/json;charset=utf-8"}}).then(function(a){return a.data})}}}).factory("SavedJobs",function(a){return{get:function(){return a({method:"GET",url:"api/savedJobs"}).then(function(a){return a.data})},"delete":function(b){return a({method:"DELETE",url:"/api/savedJobs",data:b,headers:{"Content-type":"application/json;charset=utf-8"}}).then(function(a){return a.data})}}}).factory("Auth",function(a,b){var c=function(c){a.post("/api/register",JSON.stringify(c)).then(function(a){b.path("/dashboard")},function(a){b.path("/"),alert(a.data.err.message)})},d=function(c){a.post("/api/login",JSON.stringify(c)).then(function(a){b.path("/dashboard")},function(a){b.path("/"),//console.log(a.data.err.message),alert(a.data.err)})},e=function(){a.get("/api/logout")},f=function(a,b,c){a.$on("$routeChangeStart",function(a,d,e){c.get("/api/status").then(function(a){d.$$route&&!a.data.status&&b.path("/")})})};return{register:c,signin:d,logout:e,status:f}});